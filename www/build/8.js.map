{"version":3,"sources":["../../src/pages/result/result.module.ts","../../src/pages/result/result.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResultPage } from './result';\n\n@NgModule({\n  declarations: [\n    ResultPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResultPage),\n  ],\n})\nexport class ResultPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/result/result.module.ts","import { Component } from '@angular/core';\nimport {\n    AlertController, IonicPage, LoadingController,\n    NavController,\n    NavParams\n} from 'ionic-angular';\nimport {PostModel} from \"../../models/post-model\";\nimport {UserModel} from \"../../models/user-model\";\nimport {User} from \"../../providers/user/user\";\n\n/**\n * Generated class for the ResultPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-result',\n  templateUrl: 'result.html',\n})\nexport class ResultPage {\n\n  post: PostModel;\n  profile: UserModel;\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public user: User,\n              public alertCtrl: AlertController,\n              public loadingCtrl: LoadingController) {\n\n      this.post = navParams.get('post') || null;\n      this.profile = this.user.attachProfile();\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad result page');\n  }\n\n  won() {\n        let prompt = this.alertCtrl.create({\n            title: \"I beat \" + this.post.opponent.first,\n            message: 'Confirm your result',\n            buttons: [\n                {\n                    text: 'Back',\n                    handler: data => {\n                        console.log('Cancelled');\n                    }\n                },\n                {\n                    text: 'Confirm',\n                    handler: data => {\n                        this.post.winner = this.post.challenger.nid;\n                        this.submit();\n                        /*\n                        this.navCtrl.push('PostgamePage', {\n                          post: this.post\n                        });*/\n                    }\n                }\n            ]\n        });\n        prompt.present();\n  }\n\n  lost() {\n      let prompt = this.alertCtrl.create({\n          title: \"I lost to \" + this.post.opponent.first,\n          message: 'Confirm your result',\n          buttons: [\n              {\n                  text: 'Back',\n                  handler: data => {\n                      console.log('Cancel lose');\n                  }\n              },\n              {\n                  text: 'Confirm',\n                  handler: data => {\n                      this.post.winner = this.post.opponent.nid;\n                      this.submit();\n                      /*\n                      this.navCtrl.push('PostgamePage', {\n                          post: this.post\n                      });*/\n                  }\n              }\n          ]\n      });\n      prompt.present();\n\n  }\n\n  submit() {\n      console.log('Submit()');\n\n      let loader = this.loadingCtrl.create({\n          content: \"Posting...\",\n          duration: 10000\n      });\n      loader.present();\n\n      let response = this.user.postGame(this.post).subscribe(resp=>\n      {\n          loader.dismissAll();\n          console.log('Posted response:', response);\n          this.navCtrl.popTo(this.navCtrl.getByIndex(2));\n\n      });\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/result/result.ts"],"sourceRoot":""}